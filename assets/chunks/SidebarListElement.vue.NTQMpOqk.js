import{C as $,aC as I,J as f,U as _,ab as R,G as N,F as E}from"../api_explorer.md.CYJl-zXR.js";import{o as s,c as i,r as F,d as x,p as S,j as h,k as n,G as r,e as c,Z as D,w as B,b as M,F as z,B as A,N as V,t as G,n as L}from"./framework.D4KI3xLP.js";import{w as j}from"./DeleteSidebarListElement.vue.XXH2hodv.js";const J={},K={class:"gap-1/2 flex flex-col px-3 pb-[75px]"};function T(p,y){return s(),i("ul",K,[F(p.$slots,"default")])}const Q=$(J,[["render",T]]),U={class:"absolute flex right-1 opacity-0 group-hover:opacity-100"},W=x({__name:"SidebarListElementActions",props:{variable:{},warningMessage:{},isCopyable:{type:Boolean},isDeletable:{type:Boolean},isRenameable:{type:Boolean}},emits:["delete","rename"],setup(p,{emit:y}){const g=y,l=S({action:"None",name:""}),u=I(),{copyToClipboard:b}=R();function w(a){l.value={action:a,name:p.variable.name},u.show()}function k(){u.hide(),l.value={action:"None",name:""}}function C(a){g("delete",a),k()}return(a,e)=>(s(),i(z,null,[h("div",U,[a.isCopyable?(s(),i("button",{key:0,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-[5px]",type:"button",onClick:e[0]||(e[0]=o=>n(b)(a.variable.name))},[r(n(f),{class:"h-3 w-3",icon:"Clipboard"})])):c("",!0),a.isRenameable?(s(),i("button",{key:1,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-[5px]",type:"button",onClick:e[1]||(e[1]=o=>g("rename",a.variable.uid))},[r(n(f),{class:"h-3 w-3",icon:"Edit"})])):c("",!0),!a.variable.isDefault&&a.isDeletable?(s(),i("button",{key:2,class:"text-c-3 hover:bg-b-3 hover:text-c-1 rounded p-1",type:"button",onClick:e[2]||(e[2]=D(o=>w("Delete"),["prevent"]))},[r(n(f),{class:"h-3.5 w-3.5",icon:"Close"})])):c("",!0)]),r(n(_),{size:"sm",state:n(u),title:`${l.value.action} ${l.value.name}`},{default:B(()=>[l.value.action==="Delete"?(s(),M(j,{key:0,variableName:l.value.name,warningMessage:a.warningMessage,onClose:k,onDelete:e[3]||(e[3]=o=>C(a.variable.uid))},null,8,["variableName","warningMessage"])):c("",!0)]),_:1},8,["state","title"])],64))}}),Z={class:"empty-variable-name text-sm line-clamp-1 break-all group-hover:pr-5"},q=x({__name:"SidebarListElement",props:{variable:{},collectionId:{},warningMessage:{},isDeletable:{type:Boolean},isCopyable:{type:Boolean},isRenameable:{type:Boolean},type:{}},emits:["delete","colorModal","rename"],setup(p,{emit:y}){const g=p,l=y,u=N(),{activeWorkspace:b}=E(),w=(e,o,d)=>{var v;const t={workspaceId:(v=b.value)==null?void 0:v.uid,type:g.type,collectionId:d||void 0,uid:o},m=d?`/workspace/${t.workspaceId}/${t.type}/${t.collectionId}/${t.uid}`:`/workspace/${t.workspaceId}/${t.type}/${t.uid}`;e.metaKey?window.open(m,"_blank"):u.push({path:m})},k=e=>{l("delete",e)},C=e=>{l("colorModal",e)},a=e=>{l("rename",e)};return(e,o)=>{var d,v;const t=A("router-link");return s(),i("li",null,[r(t,{class:L(["h-8 text-c-2 hover:bg-b-2 group relative block flex items-center gap-1.5 rounded py-1 pr-1.5 font-medium no-underline",[e.variable.color?"pl-1":"pl-1.5"]]),exactActiveClass:"active-link",role:"button",to:e.collectionId?`/workspace/${(d=n(b))==null?void 0:d.uid}/${e.type}/${e.collectionId}/${e.variable.uid}`:`/workspace/${(v=n(b))==null?void 0:v.uid}/${e.type}/${e.variable.uid}`,onClick:o[1]||(o[1]=D(m=>w(m,e.variable.uid,e.collectionId),["prevent"]))},{default:B(()=>[e.variable.color?(s(),i("button",{key:0,class:"hover:bg-b-3 rounded p-1.5",type:"button",onClick:o[0]||(o[0]=m=>C(e.variable.uid))},[h("div",{class:"h-2.5 w-2.5 rounded-xl",style:V({backgroundColor:e.variable.color})},null,4)])):c("",!0),e.variable.icon?(s(),M(n(f),{key:1,class:"text-sidebar-c-2 size-3.5 stroke-[2.25]",icon:e.variable.icon},null,8,["icon"])):c("",!0),h("span",Z,G(e.variable.name),1),r(W,{isCopyable:e.isCopyable,isDeletable:e.isDeletable,isRenameable:e.isRenameable,variable:{...e.variable,isDefault:e.variable.isDefault??!1},warningMessage:e.warningMessage,onDelete:k,onRename:a},null,8,["isCopyable","isDeletable","isRenameable","variable","warningMessage"])]),_:1},8,["class","to"])])}}}),X=$(q,[["__scopeId","data-v-0a5daf7f"]]);export{Q as _,X as f};
